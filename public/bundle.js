(()=>{var t={781:t=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function e(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,s(o.key),o)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var o=s.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var o=function(){return t=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.img=i,this.distance=0,this.scale=1,this.xPosition=0,this.yPosition=0,this.trackedXPosition=0,this.trackedYPosition=0,this.isZooming=!1,this.intervalId=null,this.maxScale=4,this.minScale=1,this.touchMoveHandler=this.touchMoveHandler.bind(this),this.touchStartHandler=this.touchStartHandler.bind(this),this.touchEndHandler=this.touchEndHandler.bind(this),this.init()},(i=[{key:"init",value:function(){var t=this;this.img.addEventListener("touchmove",this.touchMoveHandler),this.img.addEventListener("touchstart",this.touchStartHandler),this.img.addEventListener("touchend",this.touchEndHandler),this.intervalId=setInterval((function(){t.img.style.transform="translate3d(".concat(t.trackedXPosition,"px, ").concat(t.trackedYPosition,"px, 0) scale(").concat(t.scale,")")}),1e3/60)}},{key:"touchMoveHandler",value:function(t){if(2==t.targetTouches.length){this.isZooming=!0;var i=t.targetTouches[0].pageX-t.targetTouches[1].pageX,e=t.targetTouches[0].pageY-t.targetTouches[1].pageY,s=Math.sqrt(i*i+e*e);if(this.distance>0){var o=s-this.distance;this.scale+=.01*o,this.scale=Math.min(this.maxScale,Math.max(this.minScale,this.scale))}this.distance=s}if(1==t.targetTouches.length&&!this.isZooming&&this.scale>1){var n,a,r=t.targetTouches[0].pageX,h=t.targetTouches[0].pageY,c=r-this.xPosition,l=h-this.yPosition;this.scale>=3?(n=Math.min((this.img.width*this.scale-this.img.width)/2,370),a=Math.min((this.img.height*this.scale-this.img.height)/2,400)):(n=(this.img.width*this.scale-this.img.width)/2,a=(this.img.height*this.scale-this.img.height)/2),this.trackedXPosition=Math.min(Math.max(this.trackedXPosition+c,-n),n),this.trackedYPosition=Math.min(Math.max(this.trackedYPosition+l,-a),a),this.img.style.transform="translate3d(".concat(this.trackedXPosition,"px, ").concat(this.trackedYPosition,"px, 0) scale(").concat(this.scale,")"),this.xPosition=r,this.yPosition=h}}},{key:"touchStartHandler",value:function(t){1!==t.targetTouches.length&&(this.xPosition=t.targetTouches[0].pageX,this.yPosition=t.targetTouches[0].pageY,this.isZooming=!1)}},{key:"touchEndHandler",value:function(t){this.distance=0,this.scale<=1&&(this.trackedXPosition=0,this.trackedYPosition=0,this.img.style.transform="translate3d(".concat(this.trackedXPosition,"px, ").concat(this.trackedYPosition,"px, 0) scale(").concat(this.scale,")"))}},{key:"destroy",value:function(){clearInterval(this.intervalId),this.img.removeEventListener("touchmove",this.touchMoveHandler),this.img.removeEventListener("touchstart",this.touchStartHandler),this.img.removeEventListener("touchend",this.touchEndHandler)}}])&&e(t.prototype,i),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,s}();t.exports=o}},i={};(function e(s){var o=i[s];if(void 0!==o)return o.exports;var n=i[s]={exports:{}};return t[s](n,n.exports,e),n.exports})(781)})();